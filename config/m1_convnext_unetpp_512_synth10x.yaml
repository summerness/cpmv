seed: 42

data:
  train_csv: data/train.csv
  image_col: image_path
  mask_col: mask_path
  category_col: category
  image_size: [512, 512]
  num_workers: 6
  fold_col: fold
  fold_id: 0
  # 强人造伪造，动态扩充数据集
  use_synthetic: true
  synthetic_prob: 1.0       # 原始样本也尽量注入
  synthetic_times: 2        # 每个样本注入 2 块随机区域
  synthetic_copies: 9       # 额外复制 9 份，总量约 10 倍

model:
  target: models.convnext_unetpp_512.ConvNeXtUNetPP512
  params:
    in_channels: 3
    num_classes: 1

augmentations:
  train:
    horizontal_flip: 0.5
    vertical_flip: 0.5
    random_rotate90: 0.0
    shift_scale_rotate:
      p: 0.0
      shift_limit: 0.0
      scale_limit: 0.0
      rotate_limit: 0
    brightness_contrast:
      p: 0.0
      brightness_limit: 0.2
      contrast_limit: 0.2
    gaussian_blur:
      p: 0.0
      blur_limit: 3
    gauss_noise:
      p: 0.0
      var_limit: [5.0, 20.0]
  val: {}

train:
  epochs: 25
  batch_size: 8
  val_batch_size: 4
  lr: 0.0001
  weight_decay: 0.0001
  min_lr: 1.0e-6
  output_dir: outputs/m1_convnext_unetpp_512_synth10x
  use_amp: true
  cls_weight: 0.3
  scheduler:
    name: cosine
  debug:
    val_batches: 3
    log_distribution: true
